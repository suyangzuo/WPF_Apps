# WPF_Clock - 桌面时钟应用

## 项目简介

WPF_Clock是一个基于.NET 10和WPF框架开发的桌面时钟应用，提供了美观的深色主题界面，兼具数字时钟和模拟时钟显示功能。该应用具有自定义窗口样式、深色主题以及可配置的显示选项。

## 技术栈

- **.NET 10**：使用最新的.NET框架
- **WPF (Windows Presentation Foundation)**：用于构建用户界面
- **XAML**：用于界面设计和布局
- **C#**：用于实现应用逻辑和功能

## 项目结构

```
WPF_Clock/
├── App.xaml                  # 应用程序资源和全局样式定义
├── App.xaml.cs               # 应用程序入口点和初始化逻辑
├── MainWindow.xaml           # 主窗口界面设计和布局
├── MainWindow.xaml.cs        # 主窗口功能和交互逻辑
├── AssemblyInfo.cs           # 程序集信息
├── WPF_Clock.csproj          # 项目配置文件
└── Assets/
    └── ICO/
        └── Clock.ico         # 应用程序图标
```

## 功能实现

### 1. 应用程序入口点 (App.xaml & App.xaml.cs)

- **App.xaml**：
  - 定义全局深色主题资源
  - 设置窗口和按钮样式
  - 配置应用程序启动URI为MainWindow.xaml

- **App.xaml.cs**：
  - 实现深色主题的应用
  - 通过资源字典设置深色主题的颜色方案

### 2. 主窗口界面 (MainWindow.xaml)

- **窗口样式**：
  - 自定义无边框窗口，支持透明度
  - 使用WindowChrome实现窗口拖动和调整大小
  - 自定义标题栏和窗口控制按钮

- **界面布局**：
  - 顶部：自定义标题栏（包含最小化、最大化和关闭按钮）
  - 菜单栏：文件、设置和关于菜单
  - 内容区：日期显示、数字时钟和模拟时钟

- **深色主题样式**：
  - 定义多种按钮样式（窗口按钮、关闭按钮、菜单项等）
  - 为菜单项设置悬停和选中效果

### 3. 主窗口功能 (MainWindow.xaml.cs)

- **时钟功能**：
  - 使用DispatcherTimer实现每秒更新
  - 显示当前日期、星期和时间
  - 绘制模拟时钟，包括时针、分针和秒针
  - 动态生成时钟刻度和数字

- **窗口控制**：
  - 实现自定义标题栏的拖动功能
  - 处理最小化、最大化和关闭按钮事件
  - 为按钮添加鼠标悬停效果

- **菜单功能**：
  - 退出应用
  - 切换时钟显示/隐藏
  - 显示关于对话框

- **关于对话框**：
  - 完全使用代码创建的自定义深色主题对话框
  - 包含应用图标、标题、版本和描述信息
  - 实现自定义标题栏和关闭按钮

## 时钟实现原理

### 1. 时钟初始化 (InitializeClock方法)

- 动态生成时钟刻度和数字
- 主刻度（每小时）更粗更长，并显示数字
- 添加60个秒刻度线，每5个位置一个主刻度
- 设置时钟中心点

### 2. 时间更新 (UpdateTime方法)

- 获取当前系统时间
- 更新日期和时间的文本显示
- 根据时间计算时针、分针和秒针的角度
- 更新指针位置

### 3. 指针位置计算 (UpdateHandPosition方法)

- 使用三角函数计算指针终点坐标
- 时针：考虑小时和分钟
- 分针：考虑分钟和秒
- 秒针：仅考虑秒

## 项目配置 (WPF_Clock.csproj)

- 设置目标框架为.NET 10 Windows
- 启用WPF支持
- 配置单文件发布选项
- 禁用自动生成的程序集特性
- 包含应用程序图标作为资源

## 特色功能

1. **深色主题**：完整的深色主题界面，提供舒适的视觉体验
2. **自定义窗口样式**：无边框设计，圆角边框，自定义标题栏
3. **双重时钟显示**：同时提供数字时钟和模拟时钟显示
4. **响应式交互**：按钮悬停效果，平滑的视觉过渡
5. **可配置选项**：通过菜单控制时钟显示

## 运行与构建

1. **运行环境**：
   - Windows操作系统
   - .NET 10运行时

2. **构建步骤**：
   - 使用Visual Studio打开项目
   - 选择Release配置
   - 点击"生成"->"生成解决方案"

3. **发布**：
   - 项目配置了单文件发布
   - 使用以下命令发布：
     ```
     dotnet publish -c Release -r win-x64 --self-contained false -p:PublishSingleFile=true
     ```

## 总结

WPF_Clock项目展示了如何使用WPF创建一个美观且功能完整的桌面应用。通过自定义窗口样式、深色主题和精细的交互设计，实现了现代化的用户界面。时钟功能通过精确的数学计算和定时器实现，确保了准确的时间显示和流畅的动画效果。
