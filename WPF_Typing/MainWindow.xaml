<Window
    AllowsTransparency="True"
    Background="Transparent"
    FontFamily="{DynamicResource AppFontFamily}"
    Foreground="#FFFFFF"
    Height="600"
    MinHeight="600"
    MinWidth="1000"
    Title="æ‰“å­—ç»ƒä¹ "
    Width="800"
    WindowStartupLocation="CenterScreen"
    WindowStyle="None"
    mc:Ignorable="d"
    x:Class="WPF_Typing.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:WPF_Typing"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:wc="clr-namespace:System.Windows.Shell;assembly=PresentationFramework"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <Window.Resources>
        <!--  Window drop shadow used for custom chrome window  -->
        <DropShadowEffect
            BlurRadius="30"
            Color="#000000"
            Opacity="0.6"
            RenderingBias="Quality"
            ShadowDepth="0"
            x:Key="WindowDropShadow" />

        <SolidColorBrush Color="#1A1A1A" x:Key="WindowBackgroundBrush" />
        <SolidColorBrush Color="#FFFFFF" x:Key="WindowTextBrush" />

        <!--  Menu horizontal inner padding (left,right)  -->
        <Thickness x:Key="MenuInnerPadding">8, 0</Thickness>

        <!--  èœå•æ èƒŒæ™¯è‰²  -->
        <SolidColorBrush Color="#1A1A1A" x:Key="MenuBackgroundBrush" />

        <!--  Menu-only font family (force Microsoft YaHei)  -->
        <FontFamily x:Key="MenuFontFamily">Google Sans Code, Consolas, HarmonyOS Sans SC, å¾®è½¯é›…é»‘</FontFamily>

        <!--  Shared application font family (kept for other controls if needed)  -->
        <FontFamily x:Key="AppFontFamily">Google Sans Code, Consolas, HarmonyOS Sans SC, å¾®è½¯é›…é»‘</FontFamily>

        <Style TargetType="TextBlock">
            <Setter Property="FontFamily" Value="{StaticResource AppFontFamily}" />
        </Style>

        <Style TargetType="Button" x:Key="WindowButtonStyle">
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="Foreground" Value="White" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="Cursor" Value="Hand" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border
                            Background="Transparent"
                            HorizontalAlignment="Stretch"
                            VerticalAlignment="Stretch"
                            x:Name="Border">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" TargetName="Border" Value="#555" />
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" TargetName="Border" Value="#777" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="Button" x:Key="CloseButtonStyle">
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="Foreground" Value="White" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="Cursor" Value="Hand" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border
                            Background="Transparent"
                            CornerRadius="0,10,0,0"
                            HorizontalAlignment="Stretch"
                            VerticalAlignment="Stretch"
                            x:Name="Border">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" TargetName="Border" Value="#E81123" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="MenuItem" x:Key="DarkMenuItemStyle">
            <Setter Property="Background" Value="#1A1A1A" />
            <Setter Property="Foreground" Value="White" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="Height" Value="32" />
            <!--  force menu font family  -->
            <Setter Property="FontFamily" Value="{StaticResource MenuFontFamily}" />
            <!--  ä¸€çº§èœå•å­—ä½“å¤§å°ï¼ˆåªå½±å“é¡¶å±‚èœå•é¡¹ï¼‰  -->
            <Setter Property="FontSize" Value="14" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="MenuItem">
                        <Border
                            Background="#1A1A1A"
                            BorderBrush="Transparent"
                            BorderThickness="1"
                            Height="30"
                            x:Name="Border">
                            <Grid>
                                <ContentPresenter
                                    ContentSource="Header"
                                    Margin="12,0"
                                    VerticalAlignment="Center"
                                    x:Name="HeaderHost" />
                                <Popup
                                    AllowsTransparency="True"
                                    HorizontalOffset="-4"
                                    IsOpen="{TemplateBinding IsSubmenuOpen}"
                                    Placement="Bottom"
                                    VerticalOffset="6"
                                    x:Name="SubMenuPopup">
                                    <!--  Keep a single outer border for the submenu panel with rounded corners  -->
                                    <Border
                                        Background="#2D2D2D"
                                        BorderBrush="Transparent"
                                        BorderThickness="0"
                                        CornerRadius="4"
                                        Padding="4"
                                        x:Name="SubMenuBorder">
                                        <StackPanel IsItemsHost="True" KeyboardNavigation.DirectionalNavigation="Cycle" />
                                    </Border>
                                </Popup>
                            </Grid>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsHighlighted" Value="True">
                                <Setter Property="Background" TargetName="Border" Value="#135" />
                                <Setter Property="BorderBrush" TargetName="Border" Value="#2DB" />
                                <Setter Property="BorderThickness" TargetName="Border" Value="1" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!--  Submenu items: remove per-item borders so parent SubMenuBorder provides the overall border  -->
        <Style TargetType="MenuItem" x:Key="DarkSubMenuItemStyle">
            <Setter Property="Background" Value="#2D2D2D" />
            <Setter Property="Foreground" Value="White" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="Height" Value="30" />
            <Setter Property="FontFamily" Value="{StaticResource MenuFontFamily}" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="MenuItem">
                        <Border
                            Background="#2D2D2D"
                            BorderBrush="Transparent"
                            BorderThickness="0"
                            Height="30"
                            x:Name="Border">
                            <Grid>
                                <ContentPresenter
                                    ContentSource="Header"
                                    Margin="8,0"
                                    VerticalAlignment="Center"
                                    x:Name="HeaderHost" />
                                <Popup
                                    AllowsTransparency="True"
                                    HorizontalOffset="8"
                                    IsOpen="{TemplateBinding IsSubmenuOpen}"
                                    Placement="Right"
                                    VerticalOffset="-4"
                                    x:Name="SubMenuPopup">
                                    <!--  For nested submenus keep their own panel border with rounded corners  -->
                                    <Border
                                        Background="#2D2D2D"
                                        BorderBrush="#2D2D2D"
                                        BorderThickness="1"
                                        CornerRadius="6"
                                        Padding="8"
                                        x:Name="SubMenuBorder">
                                        <StackPanel IsItemsHost="True" KeyboardNavigation.DirectionalNavigation="Cycle" />
                                    </Border>
                                </Popup>
                            </Grid>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsHighlighted" Value="True">
                                <Setter Property="Background" TargetName="Border" Value="#259" />
                                <!--  do not show per-item border on highlight  -->
                                <Setter Property="BorderBrush" TargetName="Border" Value="Transparent" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!--  Checkable submenu items: also remove per-item borders  -->
        <Style TargetType="MenuItem" x:Key="CheckableSubMenuItemStyle">
            <Setter Property="Background" Value="#2D2D2D" />
            <Setter Property="Foreground" Value="White" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="Height" Value="30" />
            <Setter Property="FontFamily" Value="{StaticResource MenuFontFamily}" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="MenuItem">
                        <Border
                            Background="#2D2D2D"
                            BorderBrush="Transparent"
                            BorderThickness="0"
                            Height="30"
                            x:Name="Border">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>
                                <Border
                                    Background="Transparent"
                                    BorderBrush="Gray"
                                    BorderThickness="1"
                                    Grid.Column="0"
                                    Height="14"
                                    Margin="10,0,0,0"
                                    VerticalAlignment="Center"
                                    Width="14"
                                    x:Name="CheckMarkBox">
                                    <TextBlock
                                        FontSize="10"
                                        Foreground="White"
                                        HorizontalAlignment="Center"
                                        Text="âœ“"
                                        VerticalAlignment="Center"
                                        Visibility="Collapsed"
                                        x:Name="CheckMark" />
                                </Border>
                                <ContentPresenter
                                    ContentSource="Header"
                                    Grid.Column="1"
                                    Margin="10,0"
                                    VerticalAlignment="Center"
                                    x:Name="HeaderHost" />
                                <Popup
                                    AllowsTransparency="True"
                                    HorizontalOffset="8"
                                    IsOpen="{TemplateBinding IsSubmenuOpen}"
                                    Placement="Right"
                                    VerticalOffset="-4"
                                    x:Name="SubMenuPopup">
                                    <Border
                                        Background="#2D2D2D"
                                        BorderBrush="#2D2D2D"
                                        BorderThickness="1"
                                        CornerRadius="6"
                                        Padding="4"
                                        x:Name="SubMenuBorder">
                                        <StackPanel IsItemsHost="True" KeyboardNavigation.DirectionalNavigation="Cycle" />
                                    </Border>
                                </Popup>
                            </Grid>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsHighlighted" Value="True">
                                <Setter Property="Background" TargetName="Border" Value="#345" />
                                <Setter Property="BorderBrush" TargetName="Border" Value="Transparent" />
                            </Trigger>
                            <Trigger Property="IsChecked" Value="True">
                                <Setter Property="Visibility" TargetName="CheckMark" Value="Visible" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="MenuItem" x:Key="SubMenuHeaderStyle">
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="Foreground" Value="White" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="Height" Value="30" />
            <Setter Property="FontFamily" Value="{StaticResource MenuFontFamily}" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="MenuItem">
                        <Border
                            Background="Transparent"
                            BorderBrush="Transparent"
                            BorderThickness="0"
                            Height="30"
                            x:Name="Border">
                            <Grid>
                                <ContentPresenter
                                    ContentSource="Header"
                                    Margin="10,0"
                                    VerticalAlignment="Center"
                                    x:Name="HeaderHost" />
                                <Popup
                                    AllowsTransparency="True"
                                    HorizontalOffset="8"
                                    IsOpen="{TemplateBinding IsSubmenuOpen}"
                                    Placement="Right"
                                    x:Name="SubMenuPopup">
                                    <Border
                                        Background="#2D2D2D"
                                        BorderBrush="#2D2D2D"
                                        BorderThickness="1"
                                        CornerRadius="6"
                                        Padding="4"
                                        x:Name="SubMenuBorder">
                                        <StackPanel IsItemsHost="True" KeyboardNavigation.DirectionalNavigation="Cycle" />
                                    </Border>
                                </Popup>
                            </Grid>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsHighlighted" Value="True">
                                <!--  match hover background of other second-level menu items but keep no outer border  -->
                                <Setter Property="Background" TargetName="Border" Value="#259" />
                                <Setter Property="BorderBrush" TargetName="Border" Value="Transparent" />
                                <Setter Property="BorderThickness" TargetName="Border" Value="0" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <WindowChrome.WindowChrome>
        <WindowChrome
            CaptionHeight="0"
            CornerRadius="10"
            GlassFrameThickness="0"
            ResizeBorderThickness="5"
            UseAeroCaptionButtons="False" />
    </WindowChrome.WindowChrome>

    <Border
        Background="#1A1A1A"
        BorderBrush="#555"
        BorderThickness="1"
        CornerRadius="10"
        Effect="{StaticResource WindowDropShadow}">
        <Grid>
            <Grid
                Height="36"
                MouseLeftButtonDown="WindowTitleBar_MouseLeftButtonDown"
                MouseMove="WindowTitleBar_MouseMove"
                MouseLeftButtonUp="WindowTitleBar_MouseLeftButtonUp"
                Panel.ZIndex="10"
                VerticalAlignment="Top"
                x:Name="TitleBarGrid">
                <Border Background="#2D2D2D" CornerRadius="10,10,0,0">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>

                        <Image
                            Grid.Column="0"
                            Height="20"
                            Margin="8,0,8,0"
                            SnapsToDevicePixels="True"
                            Source="pack://siteoforigin:,,,/Assets/Images/PNG/åæŒ‡ç¦….png"
                            Stretch="Uniform"
                            VerticalAlignment="Center"
                            Width="20" />

                        <!--  Buttons remain in right column  -->
                        <StackPanel
                            Grid.Column="2"
                            HorizontalAlignment="Right"
                            Orientation="Horizontal"
                            Panel.ZIndex="10"
                            VerticalAlignment="Top">
                            <Button
                                Click="MinimizeButton_Click"
                                Content="â€“"
                                Focusable="True"
                                FontSize="16"
                                Height="36"
                                Style="{StaticResource WindowButtonStyle}"
                                Width="45"
                                x:Name="MinimizeButton" />
                            <Button
                                Click="MaximizeButton_Click"
                                Content="â–¢"
                                Focusable="True"
                                FontSize="16"
                                Height="36"
                                Style="{StaticResource WindowButtonStyle}"
                                Width="45"
                                x:Name="MaximizeButton" />
                            <Button
                                Click="CloseButton_Click"
                                Content="âœ•"
                                Focusable="True"
                                FontSize="16"
                                Height="36"
                                Style="{StaticResource CloseButtonStyle}"
                                Width="45"
                                x:Name="CloseButton" />
                        </StackPanel>

                        <!--  overlayed centered title so it's visually centered for the whole title bar  -->
                        <TextBlock
                            FontSize="14"
                            Foreground="#CCC"
                            Grid.Column="0"
                            Grid.ColumnSpan="3"
                            HorizontalAlignment="Center"
                            IsHitTestVisible="False"
                            Panel.ZIndex="20"
                            Text="åæŒ‡ç¦…"
                            VerticalAlignment="Center"
                            x:Name="TitleText" />
                    </Grid>
                </Border>
            </Grid>

            <Menu
                Background="{StaticResource MenuBackgroundBrush}"
                BorderBrush="#10FFFFFF"
                BorderThickness="0,0,0,1"
                FontFamily="{StaticResource MenuFontFamily}"
                Foreground="White"
                Height="32"
                HorizontalAlignment="Stretch"
                Margin="0,38,0,0"
                Padding="{StaticResource MenuInnerPadding}"
                Panel.ZIndex="0"
                VerticalAlignment="Top"
                Width="{Binding ActualWidth, RelativeSource={RelativeSource AncestorType=Window}}">
                <MenuItem Header="æ–‡ä»¶" Style="{StaticResource DarkMenuItemStyle}">
                    <MenuItem Click="ExitMenuItem_Click" Style="{StaticResource DarkSubMenuItemStyle}">
                        <MenuItem.Header>
                            <StackPanel Orientation="Horizontal">
                                <TextBlock
                                    FontSize="16"
                                    Foreground="#FFA500"
                                    Margin="0,0,8,0"
                                    Text="ðŸšª"
                                    VerticalAlignment="Center" />
                                <TextBlock Text="é€€å‡º" VerticalAlignment="Center" />
                            </StackPanel>
                        </MenuItem.Header>
                    </MenuItem>
                </MenuItem>
                <MenuItem Header="è®¾ç½®" Style="{StaticResource DarkMenuItemStyle}">
                    <MenuItem Click="NameMenuItem_Click" Style="{StaticResource DarkSubMenuItemStyle}">
                        <MenuItem.Header>
                            <StackPanel Orientation="Horizontal">
                                <TextBlock
                                    FontSize="16"
                                    Foreground="#4169E1"
                                    Margin="0,0,8,0"
                                    Text="ðŸ‘¤"
                                    VerticalAlignment="Center" />
                                <TextBlock Text="å§“å" VerticalAlignment="Center" />
                            </StackPanel>
                        </MenuItem.Header>
                    </MenuItem>
                    <MenuItem Click="TimingMenuItem_Click" Style="{StaticResource DarkSubMenuItemStyle}">
                        <MenuItem.Header>
                            <StackPanel Orientation="Horizontal">
                                <TextBlock
                                    FontSize="16"
                                    Foreground="#00CED1"
                                    Margin="0,0,8,0"
                                    Text="â±ï¸"
                                    VerticalAlignment="Center" />
                                <TextBlock Text="è®¡æ—¶" VerticalAlignment="Center" />
                            </StackPanel>
                        </MenuItem.Header>
                    </MenuItem>
                    <MenuItem Click="AnalysisMenuItem_Click" Style="{StaticResource DarkSubMenuItemStyle}">
                        <MenuItem.Header>
                            <StackPanel Orientation="Horizontal">
                                <TextBlock
                                    FontSize="16"
                                    Foreground="#32CD32"
                                    Margin="0,0,8,0"
                                    Text="ðŸ“Š"
                                    VerticalAlignment="Center" />
                                <TextBlock Text="åˆ†æž" VerticalAlignment="Center" />
                            </StackPanel>
                        </MenuItem.Header>
                    </MenuItem>
                </MenuItem>
                <MenuItem
                    Header="æ–‡æœ¬é€‰æ‹©"
                    Style="{StaticResource DarkMenuItemStyle}"
                    x:Name="TextSelectionMenu">
                    <!--  åŠ¨æ€å¡«å……  -->
                    <MenuItem
                        Header="(åŠ è½½ä¸­...)"
                        IsEnabled="False"
                        Style="{StaticResource DarkSubMenuItemStyle}" />
                </MenuItem>
                <MenuItem Header="å¸®åŠ©" Style="{StaticResource DarkMenuItemStyle}">
                    <MenuItem Click="HelpMenuItem_Click" Style="{StaticResource DarkSubMenuItemStyle}">
                        <MenuItem.Header>
                            <StackPanel Orientation="Horizontal">
                                <TextBlock
                                    FontSize="16"
                                    Foreground="#FFD700"
                                    Margin="0,0,8,0"
                                    Text="â“"
                                    VerticalAlignment="Center" />
                                <TextBlock Text="ä½¿ç”¨è¯´æ˜Ž" VerticalAlignment="Center" />
                            </StackPanel>
                        </MenuItem.Header>
                    </MenuItem>
                    <MenuItem Click="AboutMenuItem_Click" Style="{StaticResource DarkSubMenuItemStyle}">
                        <MenuItem.Header>
                            <StackPanel Orientation="Horizontal">
                                <TextBlock
                                    FontSize="16"
                                    Foreground="#87CEEB"
                                    Margin="0,0,8,0"
                                    Text="â„¹ï¸"
                                    VerticalAlignment="Center" />
                                <TextBlock Text="å…³äºŽ" VerticalAlignment="Center" />
                            </StackPanel>
                        </MenuItem.Header>
                    </MenuItem>
                </MenuItem>
            </Menu>

            <Grid Margin="0,84,0,0">
                <!--  ä¸»å†…å®¹åŒº: å ä½, ç”¨æˆ·åŽç»­æ‰©å±•å†…å®¹  -->
                <Border
                    Background="#151515"
                    BorderThickness="2"
                    ClipToBounds="True"
                    CornerRadius="8"
                    Margin="50,75,50,25"
                    Padding="50,0,50,0">
                    <!--  Typing area: RichTextBox used to render per-character Runs so we can color them  -->
                    <!--  ä½¿ç”¨ ScrollViewer åŒ…è£¹ RichTextBoxï¼Œå®Œå…¨æŽ§åˆ¶æ»šåŠ¨è¡Œä¸º  -->
                    <ScrollViewer
                        HorizontalScrollBarVisibility="Disabled"
                        VerticalScrollBarVisibility="Hidden"
                        x:Name="TypingDisplayScrollViewer">
                        <RichTextBox
                            AcceptsReturn="False"
                            AcceptsTab="False"
                            Background="#151515"
                            BorderThickness="0"
                            FontFamily="{StaticResource MenuFontFamily}"
                            FontSize="24"
                            Foreground="#777"
                            Height="Auto"
                            HorizontalAlignment="Stretch"
                            HorizontalScrollBarVisibility="Disabled"
                            IsDocumentEnabled="True"
                            IsReadOnly="True"
                            MaxWidth="1250"
                            PreviewKeyDown="TypingDisplay_PreviewKeyDown"
                            PreviewTextInput="TypingDisplay_PreviewTextInput"
                            SnapsToDevicePixels="True"
                            TextOptions.TextFormattingMode="Display"
                            UseLayoutRounding="True"
                            x:Name="TypingDisplay">
                            <FlowDocument>
                                <Paragraph />
                            </FlowDocument>
                        </RichTextBox>
                    </ScrollViewer>
                </Border>

                <!--  Tester name in top-right of main content area (below title/menu)  -->
                <Grid
                    HorizontalAlignment="Stretch"
                    IsHitTestVisible="False"
                    Margin="25,30,25,0"
                    MaxWidth="1000"
                    Panel.ZIndex="20"
                    VerticalAlignment="Top"
                    Width="Auto"
                    x:Name="TopRightInfoPanel">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <!--  1) å·²è¾“å…¥å­—ç¬¦æ•° / æ€»å­—ç¬¦æ•° (label + numbers; label å’Œæ•°å­—ç”¨ä¸åŒé¢œè‰²)  -->
                    <TextBlock
                        FontFamily="{StaticResource MenuFontFamily}"
                        FontSize="1"
                        Grid.Column="0"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Center">
                        <Run
                            FontSize="14"
                            Foreground="DarkGray"
                            Text="å·²è¾“å…¥" />
                        <Run
                            FontFamily="{StaticResource MenuFontFamily}"
                            FontSize="14"
                            Foreground="DimGray"
                            Text=":&#8202;" />
                        <Run
                            FontSize="14"
                            Foreground="#9DCBFF"
                            Text="{Binding TypedCount, Mode=OneWay, FallbackValue=0}" />
                        <Run
                            FontFamily="å¾®è½¯é›…é»‘"
                            FontSize="14"
                            Foreground="Gray"
                            Text="&#8202;/&#8202;" />
                        <Run
                            FontSize="14"
                            Foreground="#32CD32"
                            Text="{Binding TotalCount, Mode=OneWay, FallbackValue=0}" />
                    </TextBlock>

                    <!--  2) è¾“å…¥è¿›åº¦: (æ ‡ç­¾ + åªæ˜¾ç¤ºç™¾åˆ†æ¯”)  -->
                    <TextBlock
                        FontFamily="{StaticResource MenuFontFamily}"
                        FontSize="1"
                        Grid.Column="1"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Center">
                        <Run
                            FontSize="14"
                            Foreground="DarkGray"
                            Text="è¿›åº¦" />
                        <Run
                            FontFamily="{StaticResource MenuFontFamily}"
                            FontSize="14"
                            Foreground="DimGray"
                            Text=":&#8202;" />
                        <Run
                            FontSize="14"
                            Foreground="#FFA500"
                            Text="{Binding ProgressPercent, Mode=OneWay, FallbackValue=0, StringFormat={}{0}}" />
                        <Run
                            FontFamily="HarmonyOS Sans SC, å¾®è½¯é›…é»‘"
                            FontSize="12"
                            Foreground="LightSlateGray"
                            Text="&#8202;%" />
                    </TextBlock>

                    <!--  3) æ­£ç¡®çŽ‡: (æ ‡ç­¾ + åªæ˜¾ç¤ºç™¾åˆ†æ¯”)  -->
                    <TextBlock
                        FontFamily="{StaticResource MenuFontFamily}"
                        FontSize="1"
                        Grid.Column="2"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Center">
                        <Run
                            FontSize="14"
                            Foreground="DarkGray"
                            Text="æ­£ç¡®çŽ‡" />
                        <Run
                            FontFamily="{StaticResource MenuFontFamily}"
                            FontSize="14"
                            Foreground="DimGray"
                            Text=":&#8202;" />
                        <Run
                            FontSize="14"
                            Foreground="#FFD700"
                            Text="{Binding AccuracyPercent, Mode=OneWay, FallbackValue=0, StringFormat={}{0}}" />
                        <Run
                            FontFamily="HarmonyOS Sans SC, å¾®è½¯é›…é»‘"
                            FontSize="12"
                            Foreground="LightSlateGray"
                            Text="&#8202;%" />
                    </TextBlock>

                    <!--  4) é€Ÿåº¦: æ˜¾ç¤ºæ•°å­—å¹¶å¸¦å•ä½ (æ•°å­—ä¸Žå•ä½ç”¨ä¸åŒé¢œè‰²)  -->
                    <TextBlock
                        FontFamily="{StaticResource MenuFontFamily}"
                        FontSize="1"
                        Grid.Column="3"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Center">
                        <Run
                            FontSize="14"
                            Foreground="DarkGray"
                            Text="é€Ÿåº¦" />
                        <Run
                            FontFamily="{StaticResource MenuFontFamily}"
                            FontSize="14"
                            Foreground="DimGray"
                            Text=":&#8202;" />
                        <Run
                            FontSize="14"
                            Foreground="#9DCBFF"
                            Text="{Binding Speed, Mode=OneWay, FallbackValue=0, StringFormat={}{0:F0}}" />
                    </TextBlock>

                    <!--  5) å·²ç”¨æ—¶é—´: æ—¶:åˆ†:ç§’ (numbers and colons different colors)  -->
                    <TextBlock
                        FontFamily="{StaticResource MenuFontFamily}"
                        FontSize="1"
                        Grid.Column="4"
                        HorizontalAlignment="Center">
                        <Run
                            FontSize="14"
                            Foreground="DarkGray"
                            Text="ç”¨æ—¶" />
                        <Run
                            FontFamily="{StaticResource MenuFontFamily}"
                            FontSize="14"
                            Foreground="DimGray"
                            Text=":&#8202;" />
                        <Run
                            FontSize="14"
                            Foreground="#9DCBFF"
                            Text="{Binding ElapsedHours, Mode=OneWay, FallbackValue=0, StringFormat={}{0:D2}}" />
                        <Run
                            FontFamily="{StaticResource MenuFontFamily}"
                            FontSize="14"
                            Foreground="DimGray"
                            Text=":" />
                        <Run
                            FontSize="14"
                            Foreground="#9DCBFF"
                            Text="{Binding ElapsedMinutes, Mode=OneWay, FallbackValue=0, StringFormat={}{0:D2}}" />
                        <Run
                            FontFamily="{StaticResource MenuFontFamily}"
                            FontSize="14"
                            Foreground="DimGray"
                            Text=":" />
                        <Run
                            FontSize="14"
                            Foreground="#9DCBFF"
                            Text="{Binding ElapsedSeconds, Mode=OneWay, FallbackValue=0, StringFormat={}{0:D2}}" />
                    </TextBlock>

                    <!--  6) æµ‹è¯•è€…å§“å (existing binding preserved)  -->
                    <TextBlock
                        FontFamily="{StaticResource MenuFontFamily}"
                        FontSize="1"
                        Grid.Column="5"
                        HorizontalAlignment="Center">
                        <Run
                            FontSize="14"
                            Foreground="DarkGray"
                            Text="å§“å" />
                        <Run
                            FontFamily="{StaticResource MenuFontFamily}"
                            FontSize="14"
                            Foreground="DimGray"
                            Text=":&#8202;" />
                        <Run FontSize="14" Foreground="#9DCBFF">
                            <Run.Text>
                                <Binding
                                    FallbackValue="æ±Ÿæ¹–äººå£«"
                                    Mode="OneWay"
                                    Path="TesterName"
                                    TargetNullValue="æ±Ÿæ¹–äººå£«" />
                            </Run.Text>
                        </Run>
                    </TextBlock>
                </Grid>
            </Grid>
        </Grid>
    </Border>
</Window>